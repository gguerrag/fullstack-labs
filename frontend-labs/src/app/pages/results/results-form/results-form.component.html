<div class="container my-4">
  <h2 class="mb-3">Crear Resultado</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="mb-3">
      <label class="form-label">Usuario ID</label>
      <input class="form-control" formControlName="usuarioId" placeholder="Ej: 1" />
      <div *ngIf="submitted && form.get('usuarioId')?.invalid" class="text-danger small">
        Usuario ID es requerido
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Laboratorio ID</label>
      <input class="form-control" formControlName="laboratorioId" placeholder="Ej: 1" />
      <div *ngIf="submitted && form.get('laboratorioId')?.invalid" class="text-danger small">
        Laboratorio ID es requerido
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Tipo de Examen</label>
      <input class="form-control" formControlName="tipoExamen" placeholder="Ej: Hemograma" />
      <div *ngIf="submitted && form.get('tipoExamen')?.invalid" class="text-danger small">
        Tipo de examen es requerido
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Resultado</label>
      <input class="form-control" formControlName="valorResultado" placeholder="Ej: Normal" />
      <div *ngIf="submitted && form.get('valorResultado')?.invalid" class="text-danger small">
        Resultado es requerido
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Fecha</label>
      <input class="form-control" type="date" formControlName="fechaResultado" />
      <div *ngIf="submitted && form.get('fechaResultado')?.invalid" class="text-danger small">
        Fecha es requerida
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Estado</label>
      <select class="form-select" formControlName="estado">
        <option value="Pendiente">Pendiente</option>
        <option value="Completado">Completado</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="saving">
      {{ saving ? 'Guardando...' : 'Guardar resultado' }}
    </button>

    <div *ngIf="error" class="alert alert-danger mt-3">
      {{ error }}
    </div>
  </form>
</div>
